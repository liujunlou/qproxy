syntax = "proto3";

package route;

service RouteService {
    rpc SendMessage (RouteMessage) returns (RouteResponse);
}

message RouteMessage {
    optional string message_id = 1;
    optional string method = 2;
    optional string target_id = 3;
    optional int64 app_id = 4;
    optional string log_id = 5;
    optional bool from_gateway = 6;
    optional bytes payload = 7;
    repeated MetadataEntry metadata = 8;
}

message RouteResponse {
    optional string message_id = 1;
    optional int32 status_code = 2;
    optional string status_message = 3;
    optional bytes payload = 4;
}

message MetadataEntry {
    optional string key = 1;
    optional string value = 2;
}
